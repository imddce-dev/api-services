// src/Config/org-scope.ts
export const PROVINCES_BY_GROUP: Record<string, number[] | null> = {
  CENTRAL: null, // null = เห็นทุกจังหวัด
  ODPC01: [50,51,52,53,54,55,56,57,58],
  ODPC02: [18,53,63,64,65,67],
  ODPC03: [11,60,61,62,66],
  ODPC04: [12,13,14,15,16,17,19,26],
  ODPC05: [70,71,72,73,74,75,76,77],
  ODPC06: [20,21,22,23,24,25,27],
  ODPC07: [40,44,45,46],
  ODPC08: [38,39,41,42,43,47,48],
  ODPC09: [30,31,32,36],
  ODPC10: [33,34,35,37,49],
  ODPC11: [80,81,82,83,84,85,86],
  ODPC12: [90,91,92,93,94,95,96],
  ODPC13: [10],
  EXTERNAL: [], // ภายนอก: จะจำกัดคอลัมน์ตอน SELECT
} as const;

// organizer ของ สสจ. → province_id (เติมตามจริง)
export const ORGANIZER_TO_PROVINCE_ID: Record<number, number> = {
  // ตัวอย่าง
    2: 10, // สสจ.กทม.
    59: 11, // สสจ.สมุทรปราการ
    24: 12, // สสจ.นนทบุรี
    29: 13, // สสจ.ปทุมธานี
    33: 14, // สสจ.พระนครศรีอยุธยา
    71: 15, // สสจ.อ่างทอง
    51: 16, // สสจ.ลพบุรี
    64: 17, // สสจ.สิงห์บุรี
    10: 18, // สสจ.ชัยนาท
    63: 19, // สสจ.สระบุรี
    9: 20, // สสจ.ชลบุรี
    49: 21, // สสจ.ระยอง
    7: 22, // สสจ.จันทบุรี
    16: 23, // สสจ.ตราด
    8: 24, // สสจ.ฉะเชิงเทรา
    31: 25, // สสจ.ปราจีนบุรี
    18: 26, // สสจ.นครนายก
    62: 27, // สสจ.สระแก้ว
    21: 30, // สสจ.นครราชสีมา
    28: 31, // สสจ.บุรีรัมย์
    68: 32, // สสจ.สุรินทร์
    55: 33, // สสจ.ศรีสะเกษ
    76: 34, // สสจ.อุบลราชธานี
    45: 35, // สสจ.ยโสธร
    11: 36, // สสจ.ชัยภูมิ
    72: 37, // สสจ.อำนาจเจริญ
    27: 38, // สสจ.บึงกาฬ
    70: 39, // สสจ.หนองบัวลำภู
    6: 40, // สสจ.ขอนแก่น
    73: 41, // สสจ.อุดรธานี
    54: 42, // สสจ.เลย
    69: 43, // สสจ.หนองคาย
    42: 44, // สสจ.มหาสารคาม
    47: 45, // สสจ.ร้อยเอ็ด
    4: 46, // สสจ.กาฬสินธุ์
    56: 47, // สสจ.สกลนคร
    20: 48, // สสจ.นครพนม
    43: 49, // สสจ.มุกดาหาร
    14: 50, // สสจ.เชียงใหม่
    53: 51, // สสจ.ลำพูน
    52: 52, // สสจ.ลำปาง
    74: 53, // สสจ.อุตรดิตถ์
    40: 54, // สสจ.แพร่
    26: 55, // สสจ.น่าน
    101: 56, // สสจ.พะเยา
    13: 57, // สสจ.เชียงราย
    44: 58, // สสจ.แม่ฮ่องสอน
    23: 60, // สสจ.นครสวรรค์
    75: 61, // สสจ.อุทัยธานี
    5: 62, // สสจ.กำแพงเพชร
    17: 63, // สสจ.ตาก
    65: 64, // สสจ.สุโขทัย
    37: 65, // สสจ.พิษณุโลก
    36: 66, // สสจ.พิจิตร
    39: 67, // สสจ.เพชรบูรณ์
    50: 70, // สสจ.ราชบุรี
    3: 71, // สสจ.กาญจนบุรี
    66: 72, // สสจ.สุพรรณบุรี
    19: 73, // สสจ.นครปฐม
    61: 74, // สสจ.สมุทรสาคร
    60: 75, // สสจ.สมุทรสงคราม
    38: 76, // สสจ.เพชรบุรี
    30: 77, // สสจ.ประจวบคีรีขันธ์
    22: 80, // สสจ.นครศรีธรรมราช
    1: 81, // สสจ.กระบี่
    34: 82, // สสจ.พังงา
    41: 83, // สสจ.ภูเก็ต
    67: 84, // สสจ.สุราษฎร์ธานี
    48: 85, // สสจ.ระนอง
    12: 86, // สสจ.ชุมพร
    57: 90, // สสจ.สงขลา
    58: 91, // สสจ.สตูล
    15: 92, // สสจ.ตรัง
    35: 93, // สสจ.พัทลุง
    32: 94, // สสจ.ปัตตานี
    46: 95, // สสจ.ยะลา
    25: 96, // สสจ.นราธิวาส
};

// organizer ของ สคร. → รหัส ODPC (เติมตามจริง)
export const ORGANIZER_TO_ODPC: Record<number,
  'ODPC01'|'ODPC02'|'ODPC03'|'ODPC04'|'ODPC05'|'ODPC06'|
  'ODPC07'|'ODPC08'|'ODPC09'|'ODPC10'|'ODPC11'|'ODPC12'|'ODPC13'
> = {
  77: 'ODPC01',
  //78: 'ODPC02',
  79: 'ODPC03',
  80: 'ODPC04',
  81: 'ODPC05',
  82: 'ODPC06',
  83: 'ODPC07',
  84: 'ODPC08',
  85: 'ODPC09',
  86: 'ODPC10',
  87: 'ODPC11',
  88: 'ODPC12',
  119: 'ODPC13',
  // ...
};

export type OrgScope =
  | { type: 'CENTRAL' }
  | { type: 'ODPC'; odpc: keyof typeof PROVINCES_BY_GROUP }
  | { type: 'PROV'; provinceId: number }
  | { type: 'EXTERNAL' }
  | { type: 'UNKNOWN' };

export function resolveScope(organizer?: number): OrgScope {
  if (!organizer && organizer !== 0) return { type: 'UNKNOWN' };

  // สสจ.
  if (organizer in ORGANIZER_TO_PROVINCE_ID) {
    return { type: 'PROV', provinceId: ORGANIZER_TO_PROVINCE_ID[organizer] };
  }
  // สคร.
  if (organizer in ORGANIZER_TO_ODPC) {
    return { type: 'ODPC', odpc: ORGANIZER_TO_ODPC[organizer] };
  }
  // ส่วนกลาง (ช่วง 1-20)
  if (organizer >= 107 && organizer <= 117 || organizer === 78) {
    return { type: 'CENTRAL' };
  }
  // ภายนอก
  if (organizer === 30) {
    return { type: 'EXTERNAL' };
  }
  return { type: 'UNKNOWN' };
}
